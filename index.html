<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The Last Name Of Flesh</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <!-- INTRO-->
  <div id="intro-page">
    <div class="intro-hero" id="intro-hero">
      <h1>圣躯</h1>
      <h2>World Of Sins</h2>
    </div>
  </div>

  <!-- WELCOME-->
  <div id="welcome-page">
    <div class="welcome-container">
      <h1>WELCOME, SINNER</h1>
      <p>
        The sins of the past have led you here. Redemption is a dream, but judgment is real. May you be forgiven.
      </p>
    </div>
  </div>

  <!-- EXPLORE -->
  <div id="explore-bg">
    <div class="overlay"></div>
  </div>

  <!-- EXPLORE PAGE -->
  <div id="explore-page" class="scrollable">
    <div class="explore-hero">
      <h1>LOOK AROUND</h1>
      <h2>Search For The Sinners, For You Are Among Them</h2>
      <div class="explore-actions">
        <div class="explore-action-item" onclick="playClickAudio(); showLocation('location-shrine')" style="margin: auto;">Look at the Altar</div>
      </div>
    </div>
    <div class="floating-bubbles"></div>
  </div>

  <!-- LOCATIONS -->
  <div id="location-page" class="scrollable">
    <div id="location-shrine" class="location-content">
      <div class="shrine-container">
        <div class="back-arrow" onclick="playClickAudio(); goBackToExplore()">&#8592;</div>
        <div class="shrine-cinematic">
          <div class="cinematic-text">The Temple Does Not Forget</div>
        </div>
        <div class="shrine-bubbles"></div>
        <div class="shrine-display">
          <img src="assets/shrine.png" alt="Shrine" class="shrine-img">
          <div class="offerings">
            <img src="assets/stone.png" alt="Stone" class="offering" onclick="triggerOffering('stone')">
            <img src="assets/parchment.png" alt="Parchment" class="offering" onclick="triggerOffering('parchment')">
            <img src="assets/mirror.png" alt="Mirror" class="offering" onclick="triggerOffering('mirror')">
            <img src="assets/coin.png" alt="Coin" class="offering" onclick="triggerOffering('coin')">
          </div>
        </div>
        <div id="offering-cinematic" class="offering-cinematic">
          <audio id="offering-audio" src="assets/water.mp3"></audio>
          <div id="offering-text" class="offering-text"></div>
        </div>
      </div>
    </div>
    <div id="location-stage" class="location-content">
      <div id="stage-cinematic-container">
        <div id="stage-cinematic-overlay">A Better Tomorrow</div>
        <div id="tv-container" class="hidden" onclick="replaySpeech()">
          <img id="tv-image" src="assets/tv.jpg" alt="CRT TV">
          <div id="tv-overlay"></div>
          <div id="tv-subtitle">[...]</div>
        </div>
      </div>
      <div class="back-arrow" onclick="playClickAudio(); goBackToExplore()">&#8592;</div>
    </div>
    <div id="location-the-altar" class="location-content">
      <div id="altar-cinematic-container">
        <!-- You can add additional visuals/text here if desired -->
        <div id="altar-cinematic-overlay" style="font-family:'Montserrat', sans-serif; font-size:2.5rem; text-transform:uppercase; letter-spacing:2px; color:#fff; opacity:1; text-align:center;">Welcome to The Altar</div>
      </div>
      <div class="back-arrow" onclick="playClickAudio(); goBackToExplore()">&#8592;</div>
    </div>
    <div id="location-verge" class="location-content">
      <div class="torch-container" id="torch-container">
        <div class="torch-content">
          <h2>The Sin of Man</h2>
          <p>
            For the wages of sin is death, sin is not a mere act. The tower is built, and it falls. The fire is set, and it spreads. The waters rise, and they do not recede. The wind does not carry any mercy, nor the earth grants any refuge.
          </p>
          <p>
            Who are you? The torch moves, and the truth follows a step behind. It leaves marks that cannot be unmarked. A hand stretches forth, but there is nothing to grasp, for the hand never had any fingers.
          </p>
          <p>
            The offering was placed. The fire took it. The fire always takes it for it is what it always wishes to do.
          </p>
          <p>
            The flock scatters, but the path does not change. The staff was raised, but no hand even remained to guide it. The gate was shut, yet the lambs still wandered, for the shepherd fell, and they had no one to guide them.
          </p>
        </div>
        <div class="torch-overlay" id="torch-overlay"></div>
      </div>
      <div class="back-arrow" onclick="playClickAudio(); goBackToExplore()">&#8592;</div>
    </div>

    <!-- INQUIRIES -->
    <div id="location-inquiries" class="location-content">
      <div class="questionnaire-container">
        <p id="question-text">...</p>
        <input id="question-input" type="text" style="display: none;">
        <div id="question-buttons" style="display: none;">
          <button onclick="answerQuestion('yes')">Yes</button>
          <button onclick="answerQuestion('no')">No</button>
        </div>
        <p id="warning-text" class="hidden">I would be lonely without you.</p>
      </div>
    </div>
  </div>

  <!-- BLOG -->
  <div id="blog-page">
    <div class="blog-floating-bubbles"></div>
    <div class="blog-back-arrow" onclick="playClickAudio(); goBackFromBlog()">&#8592;</div>
    <div class="blog-hero">
      <h1>Texts</h1>
      <p>Written by those who left.</p>
    </div>
    <div class="blog-cards">
      <div class="blog-card" onclick="openBlogModal(1)">
        <img src="assets/tree.jpg" alt="Blog Card 1" class="card-image">
        <h2>The Tree</h2>
        <p>It never had a place in the forest, though it never left.</p>
      </div>
      <div class="blog-card" onclick="openBlogModal(2)">
        <img src="assets/house.jpg" alt="Blog Card 2" class="card-image">
        <h2>The House</h2>
        <p>It was never abandoned, for it did not need anyone.</p>
      </div>
      <div class="blog-card" onclick="openBlogModal(3)">
        <img src="assets/river.jpg" alt="Blog Card 3" class="card-image">
        <h2>The Name On Water</h2>
        <p>It wished to disappear, but no offering was made.</p>
      </div>
    </div>
    <div id="blog-modal-1" class="blog-modal">
      <div class="blog-modal-content">
        <div class="close-button" onclick="closeBlogModal(1)">✕</div>
        <h2>Tree's Words</h2>
        <p>It swayed where it should not have swayed. It stood where it should not have stood. The branches moved before the wind had even arrived. The leaves turned away before the sun could have even touched them. One day, it was cut down, but the next day, it was standing again. It was not the same tree.</p>
      </div>
    </div>
    <div id="blog-modal-2" class="blog-modal">
      <div class="blog-modal-content">
        <div class="close-button" onclick="closeBlogModal(2)">✕</div>
        <h2>House's Words</h2>
        <p>They never built doors. Not because they forgot, but because they didn’t need them. Something inside them never wanted to leave, and so the walls learned to breathe along them.</p>
      </div>
    </div>
    <div id="blog-modal-3" class="blog-modal">
      <div class="blog-modal-content">
        <div class="close-button" onclick="closeBlogModal(3)">✕</div>
        <h2>Name's Words</h2>
        <p>He wrote his name where it would not stay, and he knew about it. In water, in dust, in breath against glass. However, the letters did not vanish. An offering must be accepted. A name must be answered.</p>
      </div>
    </div>
  </div>

  <!-- PERS UI-->
  <div id="persistent-ui">
    <div class="right-nav">
      <ul>
        <li onclick="playClickAudio(); switchLocation('location-verge')">Verge</li>
        <li onclick="playClickAudio(); switchLocation('location-stage')">Stage</li>
        <li onclick="playClickAudio(); switchLocation('location-inquiries')">Inquiries</li>
      </ul>
    </div>
    <div class="bottom-links">
      <div class="link" onclick="playClickAudio(); showBlogPage()">BLOG</div>
      <div class="link" onclick="playClickAudio(); showAccessPage();">ACCESS</div>
    </div>
  </div>

  <!-- FLOATING MENU-->
  <div id="floating-trigger" onclick="toggleFloatingMenu()">✝</div>
  <div id="blur-overlay" class="blur-overlay hidden" onclick="toggleFloatingMenu()"></div>
  <div id="floating-menu" class="floating-menu hidden">
    <ul>
      <li onclick="playClickAudio(); switchLocation('location-verge'); toggleFloatingMenu();">
        <div class="menu-icon">○</div>
        <div class="menu-text">Verge</div>
      </li>
      <li onclick="playClickAudio(); switchLocation('location-stage'); toggleFloatingMenu();">
        <div class="menu-icon">○</div>
        <div class="menu-text">Stage</div>
      </li>
      <li id="floating-inquiries" onclick="playClickAudio(); switchLocation('location-inquiries'); toggleFloatingMenu();">
    <div class="menu-icon">○</div>
    <div class="menu-text">Inquiries</div>
</li>
    </ul>
  </div>

  <!-- ACCESS -->
  <div id="access-page">
    <div id="access-stage1" class="access-stage">Sacrifice...</div>
    <div id="access-stage2" class="access-stage">
      <p>
        What is taken cannot be returned.<br>
        What is lost is never truly gone.<br>
        The debt is unpayable, and yet—<br>
        You offer yourself freely.
      </p>
    </div>
    <div id="access-stage3" class="access-stage">
      <h1>THE AGREEMENT</h1>
      <p>
        You are about to enter.<br>
        You understand that what you take is not freely given.<br>
        You understand that what you see cannot be unseen.<br>
        You understand that what you owe cannot be settled.
      </p>
      <label><input type="checkbox" id="check1"> I acknowledge the debt.</label>
      <label><input type="checkbox" id="check2"> I accept anything that follows.</label>
      <label><input type="checkbox" id="check3"> I will not turn back.</label>
      <button id="submit-agreement" disabled>SUBMIT</button>
    </div>
    <div id="access-stage4" class="access-stage">Accepted.</div>
  </div>

  <!-- AUDIOS -->
  <audio id="background-audio" autoplay loop>
   <source src="assets/main.mp3" type="audio/mpeg"> 
    Your browser does not support audio.
  </audio>
  <audio id="click-audio" preload="auto">
    <source src="assets/click.mp3" type="audio/mp3">
    Your browser does not support audio.
  </audio>

  <!-- MOUSE -->
  <canvas id="mouseCanvas"></canvas>

   <!-- CONTEXT MENU -->
<div id="why-text">Why?</div>
<script src="js/scripts.js"></script>
</body>
</html>
